<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>R Training | Day 1</title>

<script src="01-Day1_junk_data_pt0_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="01-Day1_junk_data_pt0_files/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="01-Day1_junk_data_pt0_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="01-Day1_junk_data_pt0_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="01-Day1_junk_data_pt0_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="01-Day1_junk_data_pt0_files/navigation-1.1/tabsets.js"></script>
<link href="01-Day1_junk_data_pt0_files/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="01-Day1_junk_data_pt0_files/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="01-Day1_junk_data_pt0_files/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="css\camp_style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="fluid-row" id="header">



<h1 class="title toc-ignore">R Training | Day 1</h1>

</div>


<div id="welcome-to-r-camp" class="section level1 unnumbered">
<h1>Welcome to R Camp</h1>
<hr>
<div class="figure">
<img src="images/day1_bb8_sq.png" style="float: left; margin-right: 60px; margin-top: -10px;" width="260" />

</div>
<p><br><br><br><br><br><br></p>
<div id="please-power-on-your-droid" class="section level3 unnumbered">
<h3>Please power on your droid</h3>
<p><a href="https://raw.githubusercontent.com/MPCA-air/RTrain/master/data/Porg_samples.csv"> <span class="btn_code_blue"> Download Day 1 data </span> </a></p>
<p><br><br><br><br></p>
</div>
</div>
<div id="a-new-day" class="section level1">
<h1><span class="header-section-number">1</span> | A new day</h1>
<hr>
<p>Welcome to Jakku! You’ve just in time. The Junk boss Unkar is being an awful meany-pants and has started skimping on rations. Rey needs money for food and parts to build a star ship to escape Jakku and fight with the New Republic. Luckily for us, BB8 was able snag a transfer log from Unkar’s droid showing all of his recent shipments. Let’s power on our Datapad and see if we can’t make some trouble for Unkar, and while we’re at it, find some great recycled star ship parts for ourselves.</p>
<p><br></p>
<p><strong>Start a new project</strong></p>
<ul>
<li>In <em>Rstudio</em> select <em>File</em> from the top menu bar</li>
<li>Choose <em>New Project…</em> &gt; <em>New Directory</em> &gt; <em>New Project</em></li>
<li>Enter a project name such as <code>&quot;junk data&quot;</code></li>
<li>Select <em>Browse…</em> and choose a folder where you store your data work</li>
<li>Ignore the rest and jump down to click <em>Create Project</em></li>
</ul>
<p><strong>Get the data</strong></p>
<ul>
<li>Create a new <code>data</code> folder in your project folder</li>
<li>Move the data you downloaded above to it</li>
</ul>
<div id="r-scripts" class="section level2">
<h2><span class="header-section-number">1.1</span> R scripts</h2>
<p>An R <em>script</em> is where you write R code and document your work. They’re like recipes or prescriptions that tell the computer what you want to happen to your data.</p>
<p><strong>Open a new R script</strong></p>
<ul>
<li>In the upper left, click on the white file icon with the green (+) sign.</li>
<li>Select <em>R Script</em>.</li>
</ul>
<div class="figure">
<img src="http://docplayer.net/docs-images/25/5462802/images/10-0.png" width="450" />

</div>
<p><br></p>
<p><strong>Save script</strong></p>
<ul>
<li>Click on the floppy disk icon</li>
<li>Enter a file name such as <code>starwars_code.R</code></li>
</ul>
</div>
<div id="a-tour-of-rstudio" class="section level2">
<h2><span class="header-section-number">1.2</span> A tour of RStudio</h2>
<p><img src="http://www.sthda.com/sthda/RDoc/images/rstudio.png" width="580"></p>
<p><br></p>
<p><strong>1. Code editor</strong></p>
<p>This is where you can edit your R scripts. The tabs at the top of the code editor allow you to view scripts and data sets you have open. You can press <strong>CTRL+ENTER</strong> to run a block of code in your R script. We’ll spend most of our time here. It’s the homebase in RStudio.</p>
<p><strong>2. Console</strong></p>
<p>This is where code is executed by the computer. It shows code that you have run and any errors, warnings, or other messages that result. You can input code directly into the console and run it, but it won’t be saved for later. That’s why we like to run all of our code directly from a script in the code editor anove.</p>
<p><strong>3. Workspace</strong></p>
<p>This pane shows all of the objects and functions that you’ve created, as well as a history of the code you’ve run during your current session. The environment tab shows all of the data, objects and functions that you’ve loaded. Note the <em>broom</em> icon below the Connections tab. This cleans shop and allows you to clear out all of the objects in your workspace.</p>
<p><strong>4. Plots and files</strong></p>
<p>These tabs allow you to view and open files in your current directory, view plots and other visual objects like maps, view installed packages, and access the Help window. If at anytime you’re unsure what a function or package does, enter it’s name after a question mark in the console. For example, try typing <code>?mean</code> in the console and then pressing <strong>ENTER</strong>.</p>
</div>
<div id="make-it-your-own" class="section level2">
<h2><span class="header-section-number">1.3</span> Make it your own</h2>
<div class="figure">
<img src="images/font_change.png" style="margin-left: 20px; float: right;" width="410" />

</div>
<p>Let’s add some of our own style so we feel more at home. Follow these steps to change the font-size and color scheme:</p>
<ol style="list-style-type: decimal">
<li>Go to <strong>Tools</strong> on the top navigation bar.</li>
<li>Choose <code>Global Options...</code></li>
<li>Choose <code>Appearance</code> with the paint bucket.</li>
<li>Find something you like.</li>
<li>Try ‘solarized dark’ when you’re ready to embrace winter.</li>
<li>The default font and theme are ‘Lucida Console’ and ‘TextMate’.</li>
</ol>
<p><br><br><br><br><br></p>
</div>
</div>
<div id="first-steps" class="section level1">
<h1><span class="header-section-number">2</span> | First steps</h1>
<hr>
<p>You can create objects and assign values to them using the “left arrow” <code>&lt;-</code>, and more officially known as the <em>assignment operator</em>. Try adding the code below to your R script and creating an object called <code>wookie</code>.</p>
<p>To run a line of code, move the cursor to that line and press <strong>CTRL+ENTER</strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a new object</span>
droid &lt;-<span class="st"> &quot;bb8&quot;</span>

droid 

wookie &lt;-<span class="st"> &quot;Chewbacca&quot;</span>

wookie


<span class="co"># To save text to a character object you need quotation marks: &quot;text&quot;</span>
<span class="co"># Try this:</span>
wookie &lt;-<span class="st"> </span>Chewbacca


<span class="co"># Without quotes, R looks for an object called Chewbacca, and then lets you know that it couldn’t find one. </span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># To copy an object save it to a new name.</span>
wookie2 &lt;-<span class="st"> </span>wookie


<span class="co"># Or overwrite an object</span>
wookie &lt;-<span class="st"> &quot;Tarfful&quot;</span>
  
wookie


<span class="co"># Did this change the value stored in wookie2?</span>
wookie2  </code></pre></div>
<p><br></p>
<div id="drop-and-remove-data" class="section level3 unnumbered">
<h3>Drop and remove data</h3>
<p>You can drop objects with the remove function <code>rm()</code>. Try it out on some of your wookies.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Delete objects to clean-up your environment</span>
<span class="kw">rm</span>(wookie)

<span class="kw">rm</span>(wookie2)


<span class="co"># How can we get the &#39;wookie&#39; object back?</span>
<span class="co"># Hint: The UP arrow is your friend.</span></code></pre></div>
<br> <details> <summary class = "btn_code_green"> <strong>GOOD NEWS: </strong> Deleting data is okay.</summary>
<p>
<div class="tip">
<p>Don’t worry about deleting data or making mistakes in R. When R loads data files it only copies the contents. All your original data files remain safe and won’t suffer from any accidental changes. If something disappears or goes wrong in R, it’s okay. You can always reload the data using your script.</p>
</div>
</p>
<p></details></p>
</div>
<div id="give-it-a-name" class="section level2">
<h2><span class="header-section-number">2.1</span> Give it a name</h2>
<p>Everything has a name in R and you can name things almost anything you like. You can even name your data <code>TOP_SECRET_shhhhhh...</code> or <code>Luke_I_am_your_father</code> or <code>data_McData_face</code>.</p>
<p>Sadly, there are a <em>few</em> minor restrictions. Names cannot include spaces or special characters that might be found in math equations, like <code>+</code>, <code>-</code>, <code>*</code>, <code>\</code>, <code>/</code>, <code>=</code>, <code>!</code>, or <code>)</code>.</p>
<p><br></p>
<div id="your-turn" class="section level3 unnumbered">
<h3>Your turn!</h3>
<p>Try running some of these examples in your R console. Find new ways to create errors. The more broken the more better!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n wookies &lt;-<span class="st"> </span><span class="dv">5</span>

n<span class="op">*</span>wookies &lt;-<span class="st"> </span><span class="dv">5</span>

n_wookies &lt;-<span class="st"> </span><span class="dv">5</span>

n.wookies &lt;-<span class="st"> </span><span class="dv">5</span>


all_the_wookies<span class="op">!</span><span class="st"> </span><span class="er">&lt;</span><span class="op">-</span><span class="st"> &quot;Everyone on Kashyyyk&quot;</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># You can add one wookie</span>
n_wookies &lt;-<span class="st"> </span>n_wookies <span class="op">+</span><span class="st"> </span><span class="dv">1</span>


<span class="co"># But what if you have 10,000 wookies?</span>
n_wookies &lt;-<span class="st"> </span><span class="dv">10</span>,<span class="dv">000</span>


<span class="co"># They also cannot begin with a number.</span>
1st_wookie &lt;-<span class="st"> &quot;Chewbacca&quot;</span>

88b &lt;-<span class="st"> &quot;droid&quot;</span>

<span class="co"># But they can contain numbers.</span>
wookie1    &lt;-<span class="st"> &quot;Chewbacca&quot;</span>

bb8 &lt;-<span class="st"> &quot;droid&quot;</span></code></pre></div>
<p><br></p>
<details> <summary class = "btn_code_blue"><strong>EXPLORE:</strong> What happened when we created <em>n_wookies</em> the second time? </summary>
<p>
<blockquote>
<p>When we create a new object that has the same name as something that already exists, the new object replaces the old one. Sometimes we’ll want to update an existing object and replace the old version. Other times we may want to copy an object to a new name to preserve the original. This is similar to choosing between <em>Save</em> and <em>Save As</em> when we save a file.</p>
</blockquote>
</p>
<p></details></p>
</div>
</div>
<div id="multiple-items" class="section level2">
<h2><span class="header-section-number">2.2</span> Multiple items</h2>
<p>We can put multiple values inside <code>c()</code> to make a vector of items. It’s like a chain of items, and each additional item is connected by a comma. The <code>c</code> stands for to conCATenate or to combine values into a vector.</p>
<p>Let’s use <code>c()</code> to create a few vectors of names.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a character vector and name it starwars_names</span>
starwars_names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Luke&quot;</span>, <span class="st">&quot;Leia&quot;</span>, <span class="st">&quot;Han Solo&quot;</span>)

<span class="co"># Print starwars_names to the console</span>
starwars_names</code></pre></div>
<pre><code>## [1] &quot;Luke&quot;     &quot;Leia&quot;     &quot;Han Solo&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a numeric vector and name it starwars_ages</span>
starwars_ages  &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">19</span>,<span class="dv">18</span>,<span class="dv">25</span>)

<span class="co"># Print the ages to the console</span>
starwars_ages</code></pre></div>
<pre><code>## [1] 19 18 25</code></pre>
</div>
<div id="make-a-table" class="section level2">
<h2><span class="header-section-number">2.3</span> Make a table</h2>
<p>A table in R is known as a <strong>data frame</strong>. We can think of it as a group of columns, where each column is made from a vector. Data frames in R have columns of data that are all the same length.</p>
<div class="figure">
<img src="images/vector_to_dataframe.png" style="margin-left: 100px;" width="510" />

</div>
<p><br></p>
<p>Let’s make a data frame with two columns to hold the names and ages of our characters from above.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create table with columns &quot;names&quot; and &quot;ages&quot; with values from the starwars_names and starwars_ages vectors</span>
starwars_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">names =</span> starwars_names,
                          <span class="dt">ages  =</span> starwars_ages)

<span class="co"># Print the starwars_df data frame to the console</span>
starwars_df</code></pre></div>
<pre><code>##      names ages
## 1     Luke   19
## 2     Leia   18
## 3 Han Solo   25</code></pre>
<p><br></p>
<div id="your-turn-1" class="section level3 unnumbered">
<h3>Your turn</h3>
<blockquote>
<p>Create the same table above with a 3rd column showing their father’s names: <code>c(&quot;Darth&quot;, &quot;Darth&quot;, &quot;Unknown&quot;)</code></p>
</blockquote>
<p><br></p>
</div>
<div id="get-values-from-a-column_name" class="section level3 unnumbered">
<h3>Get values from a <code>$column_name</code></h3>
<p>Use the <code>$</code> sign after the name of your table to see the values in one of your columns.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View the &quot;ages&quot; column in starwars_df</span>
starwars_df<span class="op">$</span>ages</code></pre></div>
<pre><code>## [1] 19 18 25</code></pre>
<div class="quiz">
<h3 id="pop-quiz-hotshot" class="unnumbered">Pop Quiz, hotshot!</h3>
<p><strong>Which of these names are valid for a new object?</strong> <em>(Hint: You can test them.)</em></p>
<p><input type="radio"> <em>my starwars fandom</em> <br> <input type="radio"> <em>my_wookies55</em> <br> <input type="radio"> <em>5wookies</em> <br> <input type="radio"> <em>my-wookie</em> <br> <input type="radio"> <em>Wookies!!!</em> <br></p>
<p><br></p>
<details> <summary class = "btn_code"><em>Show solution</em></summary>
<p>
<p><i class="fa fa-check" aria-hidden="true" style="color: green;"></i> <code>my_wookies55</code></p>
<p><em>Yes!! The FORCE is strong with you!</em></p>
</p>
<p></details></p>
</div>
</div>
</div>
<div id="leave-a-comment" class="section level2">
<h2><span class="header-section-number">2.4</span> Leave a <code>#comment</code></h2>
<p>The text in the scripts with the <code>#</code> in front are called comments. A line that starts with a <code>#</code> is ignored and won’t be run as R code. You can use the <code>#</code> to add notes in your script to make it easier for others and yourself to understand what is happening and why. You can also use comments to add warnings or instructions for others using your code.</p>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">2.5</span> Functions</h2>
<p>Now that you know what objects are and how to create them, let’s learn how to use them in functions. Functions take one or more inputs called “arguments”. They perform steps based on the arguments and usually return an output object.</p>
<details> <summary class = "btn_code_blue"><em>Clone Trooper function</em></summary>
<p>
<p>You can think of a function like a plan for making Clone Troopers.</p>
<div class="figure">
<img src="images/clonetrooper_fathead.png" style="float: left; margin-right: 36px; margin-top: -2px;" width="220" />

</div>
<p><br></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">create_clone</span>(<span class="dt">host  =</span> <span class="st">&quot;Jango Fett&quot;</span>, 
             <span class="dt">modifications =</span> <span class="kw">c</span>(<span class="st">&quot;accelerated growth&quot;</span>, 
                               <span class="st">&quot;absolute loyalty&quot;</span>, 
                               <span class="st">&quot;enhanced aggression&quot;</span>), 
             <span class="dt">opponents     =</span> <span class="st">&quot;Confederacy of Independent Systems&quot;</span>)</code></pre></div>
<p><br><br></p>
<p>The function above creates instructions to create Clone Troopers and provides several arguments: <code>genetic host</code>, <code>genetic modifications</code>, and assumed <code>opponents</code>). When we have more than one argument, we use a comma to separate them. With some luck, the function will sucessfully return a new object (an army of Clone Troopers).</p>
<p><br><br><br><br></p>
<hr>
</p>
<p></details></p>
<div id="the-sum-function" class="section level3 unnumbered">
<h3>The <code>sum()</code> function</h3>
<p>We already covered two functions: <code>c()</code> and <code>data.frame()</code>. Now let’s use the <code>sum()</code> function to find the sum age of our Star Wars characters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Call the sum function with starwars_ages as input</span>
ages_sum &lt;-<span class="st"> </span><span class="kw">sum</span>(starwars_ages) <span class="co"># Assigns the output to starwars_ages_sum</span>

<span class="co"># Print the starwars_ages_sum value to the console</span>
ages_sum</code></pre></div>
<pre><code>## [1] 62</code></pre>
<p><br></p>
<p>The <code>sum()</code> function takes the <em>starwars_ages</em> vector as input, performs some calculations, and returns a single numeric object. Note that we assigned the output object to the name <code>ages_sum</code>. If we don’t assign the output object it will be printed to the console and won’t be saved. Sometimes that’s what we want, especially when we’re exploring the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Alternative without assigning output</span>
<span class="kw">sum</span>(starwars_ages) </code></pre></div>
<pre><code>## [1] 62</code></pre>
<p><br></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">starwars_ages</code></pre></div>
<pre><code>## [1] 19 18 25</code></pre>
<blockquote>
<p><strong>NOTE:</strong> The original <code>starwars_ages</code> vector hasn’t changed. Each function has its own “environment”, and its calculations happen inside a bubble. In general, what happens inside a function won’t change objects outside of the function.</p>
</blockquote>
</div>
</div>
<div id="function-summary" class="section level2 unnumbered">
<h2>Function summary</h2>
<p>There are functions in R that are more complex, but most boil down to the same general setup:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">new_output &lt;-<span class="st"> </span><span class="cf">function</span>(argument_input1, argument_input2)</code></pre></div>
<p>We call the function with input arguments inside parentheses and get an output object in return. You can make your own functions in R and name them almost anything you like, even <code>my_amazing_starwars_function()</code>. Naming rules for functions and arguments are the same as those for objects (no spaces or special characters and they cannot begin with a number).</p>
<div class="quiz">
<h3 id="pop-quiz" class="unnumbered">Pop Quiz!</h3>
<p><strong>Which of these is a valid function call?</strong></p>
<p><input type="radio"> <em>train(“concentrate” “Force”)</em> <br> <input type="radio"> <em>shoot, “lightsabor”, “Death Ray”</em> <br> <input type="radio"> <em>replicate(100000000, “clones”)</em> <br> <input type="radio"> <em>fight(until Empire conquered)</em> <br> <input type="radio"> <em>scrap(100 Datapads, “Hyperdrives”)</em> <br></p>
<br> <details> <summary class = "btn_code"><em>Show solution</em></summary>
<p>
<p><i class="fa fa-check" aria-hidden="true" style="color: green;"></i> <code>replicate(100000000, &quot;clones&quot;)</code></p>
<p><em>Correct! You are ready to audit a Junk dealer.</em></p>
</p>
</details>
</div>
</div>
</div>
<div id="reading-and-loading-data" class="section level1">
<h1><span class="header-section-number">3</span> | Reading and loading data</h1>
<hr>
<p>The first step of a good scavenger audit is loading some data and figuring out where all the scrap is going. Here is a small data table showing the scrap from Jakku. It was salvaged from a crash site and the transfer was incomplete.</p>
<table>
<thead>
<tr class="header">
<th align="left">source</th>
<th align="left">destination</th>
<th align="left">item</th>
<th align="right">quantity</th>
<th align="right">price</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Coruscant</td>
<td align="left">Jakuu</td>
<td align="left">hyperdrives</td>
<td align="right">3</td>
<td align="right">300</td>
</tr>
<tr class="even">
<td align="left">Tatooine</td>
<td align="left">Jakuu</td>
<td align="left">datapads</td>
<td align="right">100</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="left">Naboo</td>
<td align="left">Jakuu</td>
<td align="left">hyperdrives</td>
<td align="right">45</td>
<td align="right">45</td>
</tr>
<tr class="even">
<td align="left">Endor</td>
<td align="left">Jakuu</td>
<td align="left">hyperdrives</td>
<td align="right">1</td>
<td align="right">10000000</td>
</tr>
</tbody>
</table>
<p><br></p>
<div id="new-message" class="section level3 unnumbered">
<h3>New Message!</h3>
<details> <summary class = "btn_code_green"><em>Incoming…</em> <em>BB8</em></summary>
<p>
<div class="tip">
<p><strong>BB8:</strong> <em>Beep boop. Beep.</em></p>
<p><strong>BB8:</strong> <em>I intercepted a large scrapper data set from droid 4 of Junk Boss Plutt.</em></p>
<p><br></p>
<p>Receiving data now…</p>
<details> <summary class = "btn_code_green"> View data </summary>
<p>
<p><strong>scrap_records.csv</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">Salvage,Origin,Dest,Amount,Units,Price_per_Ton  
Flight recorder,Outskirts,Niima Outpost,<span class="dv">887</span>,Tons,<span class="fl">590.93</span>  
Proximity sensor,Outskirts,Raiders,<span class="dv">7081</span>,Tons,<span class="fl">1229.03</span>  
Aural sensor,Tuanul,Raiders,<span class="dv">707</span>,Tons,<span class="fl">145.27</span>  
Electromagnetic filter,Tuanul,Niima Outpost,<span class="dv">107</span>,Tons,<span class="fl">188.2</span>  
...  </code></pre></div>
<p><strong>You:</strong> <em>This looks like a mess. What do I do with this BB8?</em></p>
</p>
</details>
</p>
</details>
</tip>
</div>
<div id="csv-to-the-rescue" class="section level2">
<h2><span class="header-section-number">3.1</span> CSV to the rescue</h2>
<p>The main data format used in R is the <strong>CSV</strong> <em>(comma-separated values)</em>. A <strong>CSV</strong> is a simple text file that can be opened in R and most other stats software, including Excel. It looks squished together as plain text, but that’s okay! When opened in R, the text becomes a familiar looking table with columns and rows. But before we launch ahead, let’s add a <em>package</em> to R that will help us read <strong>CSV</strong> files.</p>
<p><br></p>
<details><summary class = "btn_code_blue"> How to save a CSV from Excel </summary>
<p>
<p><strong>Step 1:</strong> Open your Excel file.</p>
<p><strong>Step 2:</strong></p>
<ul>
<li>Go to <em>File</em><br />
</li>
<li><em>Save As</em><br />
</li>
<li><em>Browse</em> to your project folder<br />
</li>
<li>Save as type: _CSV (Comma Delimited) (*.csv)_
<ul>
<li>Any of the <em>CSV</em> options will work<br />
</li>
</ul></li>
<li>Click <strong>Yes</strong><br />
</li>
<li>Close Excel (Click “Don’t Save” as much as you need to. Seriously, we just saved it. Why won’t Excel just leave us alone?)</li>
</ul>
<p>Return to RStudio and open your project. Look at your <em>Files</em> tab in the lower right window. Click on the <em>CSV</em> file you savd and choose <strong>View File</strong>. Success!</p>
<p><br></p>
<hr>
</p>
<p></details></p>
</div>
</div>
<div id="add-a-new-package" class="section level1">
<h1><span class="header-section-number">4</span> | Add a new package 📦</h1>
<hr>
<p>A <em>package</em> is a small add-on for R like a phone App for your phone. Packages add capabilities like statistical functions, mapping powers, and special charts. In order to use a new package we first need to install it.</p>
<div id="readr" class="section level2">
<h2><span class="header-section-number">4.1</span> <em>readr</em></h2>
<div class="figure">
<img src="https://d21ii91i3y6o6h.cloudfront.net/gallery_images/from_proof/9289/medium/1447092171/readr-hexbin-sticker-from-rstudio.png" align="left" style="margin-right:18px;" width="145" />

</div>
<p><br></p>
<p>The <em>readr</em> package helps import data into R in different formats. It does extra work for you like cleaning the data of extra white space and formatting tricky dates. Your packages are stored in your R <em>library</em>.</p>
<p><br><br></p>
<p><strong>Add a package to your library</strong></p>
<ol style="list-style-type: decimal">
<li>Open <em>RStudio</em></li>
<li>Type <code>install.packages(&quot;readr&quot;)</code> in the lower left console</li>
<li>Press Enter</li>
<li><em>Wait two seconds</em></li>
<li>Open the <code>Packages</code> tab in the lower right window of RStudio to see the packages in your <em>library</em>
<ul>
<li>Use the search bar to find the <code>readr</code> package</li>
</ul></li>
</ol>
<p><br></p>
<p>The packages tab only shows the available packages that are installed. To use one of them, you will need to load it. Loading a package is like opening an App on your phone. To load a package we need to use the <code>library()</code> function. After loading the <em>readr</em> package you can read the Jakku scrap data with the brand new function <code>read_csv()</code>.</p>
<p><br></p>
</div>
<div id="read-the-data" class="section level2">
<h2><span class="header-section-number">4.2</span> Read the data</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;readr&quot;</span>)

<span class="kw">read_csv</span>(<span class="st">&quot;data/starwars_scrap_jakku.csv&quot;</span>)</code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Salvage = col_character(),
##   Origin = col_character(),
##   Dest = col_character(),
##   Amount = col_integer(),
##   Units = col_character(),
##   Price_per_Ton = col_double()
## )</code></pre>
<pre><code>## # A tibble: 222 x 6
##    Salvage                  Origin   Dest       Amount Units Price_per_Ton
##    &lt;chr&gt;                    &lt;chr&gt;    &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;         &lt;dbl&gt;
##  1 Flight recorder          Outskir~ Niima Out~    887 Tons           591.
##  2 Proximity sensor         Outskir~ Raiders      7081 Tons          1229.
##  3 Vitus-Series Attitude T~ Reestki  Raiders      4901 Tons           226.
##  4 Aural sensor             Tuanul   Raiders       707 Tons           145.
##  5 Electromagnetic dischar~ Tuanul   Niima Out~    107 Tons           188.
##  6 Proximity sensor         Tuanul   Trade car~  32109 Tons          1229.
##  7 Hyperdrive motivator     Tuanul   Trade car~    862 Tons          1485.
##  8 Landing jet              Reestki  Niima Out~  13944 Tons          1497.
##  9 Electromagnetic dischar~ Cratert~ Raiders      7788 Tons           188.
## 10 Sublight engine          Outskir~ Niima Out~  10642 Tons          7211.
## # ... with 212 more rows</code></pre>
</div>
<div id="name-the-data-frame" class="section level2">
<h2><span class="header-section-number">4.3</span> Name the data frame</h2>
<p>Where’d the data go? If we want to work with the data in R, we need to give it a name with the assignment operator: <code>&lt;-</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Read in scrap data and set name to &quot;scrap&quot;</span>
scrap &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/starwars_scrap_jakku.csv&quot;</span>)</code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   Salvage = col_character(),
##   Origin = col_character(),
##   Dest = col_character(),
##   Amount = col_integer(),
##   Units = col_character(),
##   Price_per_Ton = col_double()
## )</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Type the name of the table to view it in the console</span>
scrap</code></pre></div>
<pre><code>## # A tibble: 222 x 6
##    Salvage                  Origin   Dest       Amount Units Price_per_Ton
##    &lt;chr&gt;                    &lt;chr&gt;    &lt;chr&gt;       &lt;int&gt; &lt;chr&gt;         &lt;dbl&gt;
##  1 Flight recorder          Outskir~ Niima Out~    887 Tons           591.
##  2 Proximity sensor         Outskir~ Raiders      7081 Tons          1229.
##  3 Vitus-Series Attitude T~ Reestki  Raiders      4901 Tons           226.
##  4 Aural sensor             Tuanul   Raiders       707 Tons           145.
##  5 Electromagnetic dischar~ Tuanul   Niima Out~    107 Tons           188.
##  6 Proximity sensor         Tuanul   Trade car~  32109 Tons          1229.
##  7 Hyperdrive motivator     Tuanul   Trade car~    862 Tons          1485.
##  8 Landing jet              Reestki  Niima Out~  13944 Tons          1497.
##  9 Electromagnetic dischar~ Cratert~ Raiders      7788 Tons           188.
## 10 Sublight engine          Outskir~ Niima Out~  10642 Tons          7211.
## # ... with 212 more rows</code></pre>
<p><strong>NOTE:</strong> The location of the CSV file above will only work if you have your project open. When your project is open, R sets the working directory automatically to your project folder. When reading in files from a folder outside of your project you can use the full file path location. For example: <code>X://Programs/Air_Quality_Programs/Mobile Sources/Car_data.csv</code>.</p>
<p><br></p>
<div id="pro-tip" class="section level3 unnumbered">
<h3><i class="fa fa-user-secret" aria-hidden="true" style="color:#040707;"></i> Pro-tip!</h3>
<p>You may have noticed the row of three letter abbreviations under the column names. These describe the data type of each column.</p>
<blockquote>
<p><code>chr</code> stands for <strong>character</strong> vector, or a string of characters. Examples: <em>“apple”</em>, <em>“apple5”</em>, <em>“5 red apples”</em><br />
<code>int</code> stands for <strong>integer</strong>. Examples: <em>5</em>, <em>34</em>, <em>1071</em><br />
<code>dbl</code> stands for <strong>double</strong>. Examples: <em>5.0000</em>, <em>3.4E-6</em>, <em>10.7106</em></p>
</blockquote>
<p>We will discover more data types later on, such as <code>dates</code> and <code>logical</code> (TRUE/FALSE).</p>
<div class="quiz">
<h3 id="pop-quiz-1" class="unnumbered">Pop Quiz!</h3>
<p><strong>What data type is the <code>Dest</code> column?</strong></p>
<p><input type="radio"> <em>letters</em> <br> <input type="radio"> <em>character</em> <br> <input type="radio"> <em>words</em> <br> <input type="radio"> <em>numbers</em> <br> <input type="radio"> <em>integer</em> <br></p>
<p><br></p>
<details> <summary class = "btn_code"><em>Show solution</em></summary>
<p>
<p><i class="fa fa-check" aria-hidden="true" style="color: green;"></i> <code>character</code></p>
<pre><code>## Colors cannot be applied in this environment :( Try using a terminal or RStudio.</code></pre>
<pre><code>## 
##  -------------- 
## Meow! Not too shabby for a tabby. 
##  --------------
##       \
##         \
##           \
##             |\___/|
##             )     (
##            =\     /=
##              )===(
##             /     \
##             |     |
##            /       \
##            \       /
##       jgs   \__  _/
##               ( (
##                ) )
##               (_(
## </code></pre>
</p>
</summary>
</div>
<p><br></p>
</div>
<div id="dont-like-the-column-names" class="section level3 unnumbered">
<h3>Don’t like the column names?</h3>
<p>We can give new column names to the <em>col_names</em> argument in <code>read_csv()</code> like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Assign desired column names as a character vector named my_header_names</span>
my_header_names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;scrap_type&quot;</span>, <span class="st">&quot;source&quot;</span>, <span class="st">&quot;destination&quot;</span>, <span class="st">&quot;count&quot;</span>, <span class="st">&quot;units&quot;</span>, <span class="st">&quot;price_per_ton&quot;</span>)

scrap &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/starwars_scrap_jakku.csv&quot;</span>, <span class="dt">col_names =</span> my_header_names)</code></pre></div>
</div>
<div id="skip-a-row" class="section level3 unnumbered">
<h3>Skip a row</h3>
<p>We now have the column names we want, but the original column names in our CSV file show up as a row in our data. We want <code>read_csv</code> to ignore the first row. Let’s look through the help window and try to find an argument that can help us. The <code>skip</code> argument looks like it could be helpful. Sure enough, the description is exactly what we’re looking for here. The default is <code>skip = 0</code> (read every line), but we can skip the first line by providing <code>skip = 1</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_header_names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;scrap_type&quot;</span>, <span class="st">&quot;source&quot;</span>, <span class="st">&quot;destination&quot;</span>, <span class="st">&quot;count&quot;</span>, <span class="st">&quot;units&quot;</span>, <span class="st">&quot;price_per_ton&quot;</span>)

<span class="kw">read_csv</span>(<span class="st">&quot;data/starwars_scrap_jakku.csv&quot;</span>, my_header_names, <span class="dt">skip =</span> <span class="dv">1</span>)</code></pre></div>
<p><br></p>
<details> <summary class = "btn_code_blue"> <strong>EXPLORE:</strong> Does the order of arguments matter? </summary>
<p>
<p>You may be wondering why we included <code>skip =</code> for the skip argument, but only provided the objects for the other two arguments. When you pass inputs to a function, R assumes you’ve entered them in the same order that is shown on the ?help page. Let’s say you had a function called <code>feed_creatures()</code> with 3 arguments:</p>
<blockquote>
<p><code>feed_creatures(porg = &quot;small fish&quot;, ewok = &quot;vegetables&quot;, tauntaun = &quot;lichen&quot;)</code>.</p>
</blockquote>
<p>A shorthand way to write this would be <code>feed_creatures(&quot;small fish&quot;, &quot;vegetables&quot;, &quot;lichen&quot;)</code>. If we write <code>feed_creatures(&quot;vegetables&quot;, &quot;lichen&quot;, &quot;small fish&quot;)</code>, the function will send <em>vegetables</em> to the porgs and <em>lichen</em> to the Ewoks. No good. If you really wanted to write “lichen” second, you would need to tell R which food item belongs to each animal, such as <code>feed_creatures(&quot;small fish&quot;, tauntaun = &quot;lichen&quot;, ewok = &quot;vegetables&quot;)</code>.</p>
<p>The same thing goes for <code>read_csv()</code>. In <code>read_csv(my_scrap_file, column_names, skip = 1)</code>, R assumes the file is <code>my_scrap_file</code> and that the col_names should be set to <code>column_names</code>. The <code>skip =</code> argument has to be included explicitly because <em>skip</em> is the <strong>10th</strong> argument in <code>read_csv()</code>. If we don’t include <code>skip =</code>, R assumes the value we entered is meant for the function’s <strong>3rd</strong> argument.</p>
</div>
<div id="pro-tip-1" class="section level3 unnumbered">
<h3><i class="fa fa-user-secret" aria-hidden="true" style="color:#040707;"></i> Pro-tip!</h3>
<p>A shortcut to see all the possible arguments is to enter the name of a function in the console followed by the first parenthesis, such as <code>read_csv(</code>. Now you can press <code>TAB</code> on the keyboard. This brings up a drop-down menu of all the available arguments for that function.</p>
</p>
</details>
</div>
</div>
</div>
<div id="saving-file-paths" class="section level2">
<h2><span class="header-section-number">4.4</span> Saving file paths</h2>
<p>You can save the file path as an object, such as <code>scrap_file_path &lt;- &quot;data/starwars_scrap.csv&quot;</code>. Now you can use it as a shortcut to the location of your data. When you want to load the scrap table you can write <code>read.csv(scrap_file_path)</code>. This handy trick makes it easier for you or your coworker to update your code and use it with new data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Save the file path to an object you can use later</span>
scrap_file_path &lt;-<span class="st"> &quot;data/starwars_scrap_jakku.csv&quot;</span>

scrap &lt;-<span class="st"> </span><span class="kw">read_csv</span>(file_path, <span class="dt">col_names =</span> my_header_names)</code></pre></div>
<pre><code>## Error in is.connection(x): object &#39;file_path&#39; not found</code></pre>
<p><strong>Key terms</strong></p>
<p><code>package</code> An add-on for R that contains new functions someone created to help you. It is like an App for R.<br />
<code>library</code> The name of the folder that stores all your packages, and the function used to load a package.</p>
<div class="quiz">
<h3 id="pop-quiz-2" class="unnumbered">Pop Quiz!</h3>
<p><br></p>
<p><strong>What package does <code>read_csv()</code> come from?</strong></p>
<p><input type="radio"> <em>dinosaur</em> <br> <input type="radio"> <em>get_data</em> <br> <input type="radio"> <em>readr</em> <br> <input type="radio"> <em>dplyr</em> <br> <input type="radio"> <em>tidyr</em> <br></p>
<br> <details> <summary class = "btn_code"><em>Show solution</em></summary>
<p>
<p><i class="fa fa-check" aria-hidden="true" style="color: green;"></i> <code>readr</code></p>
<p><em>Great job! You are Jedi worthy!</em></p>
</p>
</details>
</div>
<div class="quiz" style="margin-top: -15px;">
<p><br></p>
<p><strong>How would you load the package <code>junkfinder</code>?</strong></p>
<p><input type="radio"> <em>junkfinder()</em> <br> <input type="radio"> <em>library(“junkfinder”)</em> <br> <input type="radio"> <em>load(“junkfinder”)</em> <br> <input type="radio"> <em>package(“junkfinder”)</em> <br></p>
<br> <details> <summary class = "btn_code"><em>Show solution</em></summary>
<p>
<p><i class="fa fa-check" aria-hidden="true" style="color: green;"></i> <code>library(&quot;junkfinder&quot;)</code></p>
<p><em>Excellent! Keep the streak going.</em></p>
</p>
</details>
</div>
<p>Let’s introduce ourselves and the data we love.</p>
<div>
<div class="figure">
<img src="images/robot_1.jpg" align="left" style="margin-right:40px;" width="240" />

</div>
</div>
<p>Possible topics:</p>
<blockquote>
<ul>
<li>Your name.</li>
<li>Your favorite Star Wars character.</li>
<li>Old Republic? Empire? New Republic?</li>
<li>Report out on the messiest part of your data. Or something you dread doing, but have to do over and over again. <strong>Hint!</strong> <em>This is something we can work to automate on the third day.</em></li>
<li>Name something you want to learn to do with your data?</li>
</ul>
</blockquote>
<p><br><br></p>
</div>
<div id="plot-the-data-plot-the-data-plot-the-data" class="section level2">
<h2><span class="header-section-number">4.5</span> Plot the data, Plot the data, Plot the data</h2>
<p>OK, Let’s get back at it! In data analysis it is really important to look at your data early and often. Here is a quick chart to see how many and what type of items we have in the scrap dataset.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

<span class="kw">ggplot</span>(starwars_scrap, <span class="kw">aes</span>(<span class="dt">x =</span> Origin, <span class="dt">y =</span> Amount)) <span class="op">+</span>
<span class="st">  </span><span class="kw">geom_col</span>()</code></pre></div>
<pre><code>## Error in ggplot(starwars_scrap, aes(x = Origin, y = Amount)): object &#39;starwars_scrap&#39; not found</code></pre>
<p>Hmmmmmmmm. Looks like there is an <em>All</em> category that we should look into more…</p>
</div>
<div id="go-to-part-2" class="section level2 unnumbered">
<h2>Go to <a href="01-Day1_junk_data_pt1.html">Part 2</a></h2>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
