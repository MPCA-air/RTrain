---
title: "R Camp | day 1"
output: 
  html_document:
    toc: true
    toc_depth: 2
    toc_float: true
    theme: readable
    highlight: tango
    css: css/camp_style.css
    number_sections: true
    self_contained: false
fontsize: 14pt
monofont: Source Code Pro
monofontoptions: Scale = 1.1
---


```{r setup, include=FALSE}
library("rmarkdown")
knitr::opts_chunk$set(echo = TRUE, error = TRUE)
htmltools::tagList(rmarkdown::html_dependency_font_awesome())
```



# Data exploration {-} 

#| __dplyr__
<hr>

![](https://d33wubrfki0l68.cloudfront.net/071952491ec4a6a532a3f70ecfa2507af4d341f9/c167c/images/hex-dplyr.png){width="120" align="left" style="margin-right: 20px; margin-top: 8px"}

<br>

_You've unlocked a new package!_  

The _dplyr_ package is the go-to tool for exploring, re-arranging, and summarizing data.  

<br><br>

Use `install.packages("dplyr")` to add _dplyr_ to your library.  



__Your analysis toolbox:__ The key _dplyr_ functions

| Function      | Returns                                             |  
|:--------------|:----------------------------------------------------|  
| `select()`    | select individual columns to drop, keep, or reorder |  
| `arrange()`   | reorder or sort rows by value of a column           |  
| `mutate()`    | Add new columns or update existing columns          | 
| `filter()`    | pick a subset of rows by the value of a column      | 
| `group_by()`  | split data into groups by values in a column        |  
| `summarize()` | calculate a single summary row for the entire table |   

<br>


#| `select()`
<hr>

Use the `select()` function to drop a column you no longer need, to select a few columns to create a new sub-table, or rearrange the order of your table's columns.


### Drop a single column with a minus sign {-}
```{r select, warning = F, message = F}
library("dplyr")

# Drop the destination column
select(scrap, -destination)
```



### Drop multiple columns with `-c(col_1, col_2)` or `-col1, -col2` {-}
```{r arrange2, warning = F, message = F}

# Drop the destination and units columns
select(scrap, -c(destination, units))
```


### Keep only three columns {-}
```{r arrange3, warning = F, message = F}

# Keep the item, quantity and price columns
select(scrap, c(item, quantity, price))
```


### `everything()` {-}

`select()` also works to change the order of columns. The code below moves the `age` and `country` columns directly after `name`, and then keeps `evertyhing()` else the same. 

```{r arrange4, warning = F, message = F}

# Make the `item`, `quantity`, and `price` columns the first three columns
# Leave `everything()` else in the same order
select(scrap, c(item, quantity, price), everything())
```


#| `filter()` {-}
<hr>

Ray's droid was able to download a scrap transfer database from the notorious Junk Boss "" the Hut. Ray needs a hyper drive to continue fighting for the new Republic. Where should she look for used hyperdrives?

Use the `filter()` function to filter the data to only hyperdrives

```{r filter, warning = F, message = F}
library("dplyr")

# keep only hyperdrives
hyperdrives <- filter(scrap, item == "hyperdrive")

# View the top 6 rows using head()
head(hyperdrives)

```
<br>

#| `arrange()` {-}
<hr>

That's helpful, but Ray wants the cheapest hyperdrive. Use `arrange()` to find the hyperdrive with the lowest price.

```{r filter, warning = F, message = F}
library("dplyr")

# find the least expensive hyperdrives
hyperdrives <- arrange(hyperdrives, price)

# View the top 6 rows using head()
head(hyperdrives)

#find the most expensive hyperdrives
hyperdrives <- arrange(hyperdrives, desc(price))
```



### <i class="fa fa-user-secret" aria-hidden="true" style="color:#040707;"></i> Pro-tip! {-}

> When you save an arranged data table it maintains its order. This is perfect for sending people a quick __Top 10__ list of pollutants or sites.


