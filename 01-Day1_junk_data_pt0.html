<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>R Camp | day 1</title>

<script src="01-Day1_junk_data_pt0_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="01-Day1_junk_data_pt0_files/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="01-Day1_junk_data_pt0_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="01-Day1_junk_data_pt0_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="01-Day1_junk_data_pt0_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="01-Day1_junk_data_pt0_files/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="01-Day1_junk_data_pt0_files/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="01-Day1_junk_data_pt0_files/tocify-1.9.1/jquery.tocify.js"></script>
<script src="01-Day1_junk_data_pt0_files/navigation-1.1/tabsets.js"></script>
<link href="01-Day1_junk_data_pt0_files/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="01-Day1_junk_data_pt0_files/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="01-Day1_junk_data_pt0_files/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="css\camp_style.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="fluid-row" id="header">



<h1 class="title toc-ignore">R Camp | day 1</h1>

</div>


<div id="welcome-to-r-camp" class="section level1 unnumbered">
<h1>Welcome to R Camp</h1>
<hr>
<div class="figure">
<img src="images/day1_bb8_sq.png" style="float: left; margin-right: 60px; margin-top: -10px;" width="260" />

</div>
<p><br></p>
<div id="get-ready" class="section level3 unnumbered">
<h3>Get ready</h3>
<p><strong>Step 1:</strong> Power on your droid.<br />
<strong>Step 2:</strong> Open RStudio.</p>
<p><br><br><br><br></p>
</div>
</div>
<div id="new-project" class="section level1">
<h1><span class="header-section-number">1</span> | New project</h1>
<hr>
<p>Welcome to Jakku! You’ve arrived just in time. The Junk boss Unkar is being a meany-pants and has started skimping on rations. Plus Rey wants to make some upgrades to her speeder bike. Luckily for us, BB8 was able snag a transfer log from Unkar’s droid that shows all of his recent shipments. Let’s power on our Datapad and see if we can’t make some trouble for Unkar, and while we’re at it, find a great place to start hunting for recycled speeder parts.</p>
<p><br></p>
<p><strong>Start a new project</strong></p>
<ul>
<li>In <em>Rstudio</em> select <em>File</em> from the top menu bar</li>
<li>Choose <em>New Project…</em> &gt; <em>New Directory</em> &gt; <em>New Project</em></li>
<li>Enter a project name such as <code>&quot;junk data&quot;</code></li>
<li>Select <em>Browse…</em> and choose a folder where you store your data work.</li>
<li>Ignore the rest and click <em>Create Project</em></li>
</ul>
<div id="new-r-script" class="section level2">
<h2><span class="header-section-number">1.1</span> New R script</h2>
<p>R <em>scripts</em> are where you write your R code and document your work. They’re like recipes or prescriptions you write the tell the computer what you want to happen to your data.</p>
<p><strong>Open new R script</strong></p>
<ul>
<li>In the upper left, click on the white file icon with the green (+) sign.</li>
<li>Select <em>R Script</em>.</li>
</ul>
<div class="figure">
<img src="http://docplayer.net/docs-images/25/5462802/images/10-0.png" width="450" />

</div>
<p><br></p>
<p><strong>Save script</strong></p>
<ul>
<li>Click on the floppy disk icon</li>
<li>Enter a file name such as <code>starwars_code.R</code></li>
</ul>
</div>
<div id="a-tour-of-r-studio" class="section level2">
<h2><span class="header-section-number">1.2</span> A tour of R Studio</h2>
<p><img src="http://www.sthda.com/sthda/RDoc/images/rstudio.png" width="580"></p>
<p><br></p>
<p><strong>1. Code editor</strong></p>
<p>This is where you write your scripts and document your work. The tabs at the top of the code editor allow you to view scripts and data sets you have open. This is where you’ll spend most of your time.</p>
<p><strong>2. Console</strong></p>
<p>This is where code is actually executed by the computer. It shows code that you have run and any errors, warnings, or other messages resulting from that code. You can input code directly into the console and run it, but it won’t be saved for later. That’s why we like to run all of our code directly from a script in the code editor.</p>
<p><strong>3. Workspace</strong></p>
<p>This pane shows all of the objects and functions that you have created, as well as a history of the code you have run during your current session. The environment tab shows all of your objects and functions. The history tab shows the code you have run. Note the <em>broom</em> icon below the Connections tab. This cleans shop and allows you to clear all of the objects in your workspace.</p>
<p><strong>4. Plots and files</strong></p>
<p>These tabs allows you to view and open files in your current directory, view plots and other visual objects like maps, view your installed packages and their functions, and access the help window. If at anytime you’re unsure what a function or package does, enter the name of thing after a question mark. For example, try entering <code>?mean</code> into the console and push <strong>ENTER</strong>.</p>
</div>
<div id="make-it-your-own" class="section level2">
<h2><span class="header-section-number">1.3</span> Make it your own</h2>
<p>Let’s add a little style so we feel more at home. Follow these steps to change the font-size and and color scheme:</p>
<ol style="list-style-type: decimal">
<li>Go to <strong>Tools</strong> on the top navigation bar.</li>
<li>Choose <code>Global Options...</code></li>
<li>Choose <code>Appearance</code> with the paint bucket.</li>
<li>Find something you like.</li>
</ol>
<p><br></p>
<div class="figure">
<img src="images/font_change.png" style="margin-left:20px;" width="420" />

</div>
</div>
</div>
<div id="first-steps" class="section level1">
<h1><span class="header-section-number">2</span> | First steps</h1>
<hr>
<p>You can create objects and assign values to them using the “left arrow” <code>&lt;-</code>, and more officially known as the assignment operator. Try adding the code below to your R script and creating an object called <code>wookie</code>.</p>
<p>Once you add the code to your script, you can run the code by moving the blinking cursor to that line and pressing <strong>CTRL + ENTER</strong>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a new object</span>
wookie &lt;-<span class="st"> &quot;Chewbacca&quot;</span>

wookie


<span class="co"># When saving text to a character object you need quotation marks.</span>
<span class="co"># This won&#39;t work.</span>
wookie &lt;-<span class="st"> </span>Chewbacca


<span class="co"># Without quotes, R looks for an object called Chewbacca, and then lets you know that it couldn&#39;t find one. </span>


<span class="co"># You can copy an object by saving it to a new name.</span>
wookie2 &lt;-<span class="st"> </span>wookie


<span class="co"># Or overwrite an object</span>
wookie &lt;-<span class="st"> &quot;Tarfful&quot;</span>
  
wookie


<span class="co"># Did the value stored in name2 change as well?</span>
wookie2  </code></pre></div>
<p><br></p>
<div id="drop-and-remove-data" class="section level3 unnumbered">
<h3>Drop and remove data</h3>
<p>You can drop objects with the remove function <code>rm()</code>. Try it out on some of your wookies.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Delete objects to clean-up your environment</span>
<span class="kw">rm</span>(wookie)

<span class="kw">rm</span>(wookie2)


<span class="co"># How can you get the &#39;wookie&#39; object back?</span>
<span class="co"># Hint: The UP arrow is your friend.</span></code></pre></div>
<br> <details> <summary class = "btn_code_green"> <strong>GOOD NEWS</strong> Deleting data is okay</summary>
<p>
<div class="tip">
<p>Don’t worry about deleting data or making mistakes in R. When R loads data files it only copies the contents. All your original data files remain safe and won’t suffer from any accidental changes. If something disappears or goes wrong in R, it’s okay. You can always reload the data using your script.</p>
</div>
</p>
<p></details></p>
</div>
<div id="give-it-a-name" class="section level2">
<h2><span class="header-section-number">2.1</span> Give it a name</h2>
<p>Everything has a name in R and you can name things almost anything you like. You can even name your data <code>TOP_SECRET_Shhhhhh...</code> or <code>Luke_I_am_your_father</code> or <code>the_worst_data_ever</code>.</p>
<p>Sadly, there are a <em>few</em> minor restrictions. Object names can’t include spaces or special characters such as a <code>+</code>, <code>-</code>, <code>*</code>, <code>\</code>, <code>/</code>, <code>=</code>, <code>!</code>, or <code>)</code>. However, on the plus side object names can include a <code>_</code>.</p>
<p><br></p>
<p><strong>Your turn!</strong></p>
<p><em>Try running some of these examples in your R console. Find new ways to create errors. The more the better!</em></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">n wookies &lt;-<span class="st"> </span><span class="dv">5</span>

n<span class="op">*</span>wookies &lt;-<span class="st"> </span><span class="dv">5</span>

n_wookies &lt;-<span class="st"> </span><span class="dv">5</span>

n.wookies &lt;-<span class="st"> </span><span class="dv">5</span>


all_the_wookies<span class="op">!</span><span class="st"> </span><span class="er">&lt;</span><span class="op">-</span><span class="st"> &quot;Everyone on Kashyyyk&quot;</span>


<span class="co"># You can add one wookie</span>
n_wookies &lt;-<span class="st"> </span>n_wookies <span class="op">+</span><span class="st"> </span><span class="dv">1</span>


<span class="co"># But what if you have 10,000 wookies?</span>
n_wookies &lt;-<span class="st"> </span><span class="dv">10</span>,<span class="dv">000</span>


<span class="co"># They also cannot begin with a number.</span>
1st_wookie &lt;-<span class="st"> &quot;Chewbacca&quot;</span>

<span class="co"># But they can contain numbers.</span>
wookie1    &lt;-<span class="st"> &quot;Chewbacca&quot;</span></code></pre></div>
<p><br></p>
<details> <summary class = "btn_code_blue"><strong>EXPLORE:</strong> <em>What happened when we created <em>n_wookies</em> the second time?</em></summary>
<p>
<blockquote>
<p>When we create a new object that has the same name as something that already exists, the new object replaces the old one. Sometimes we’ll want to update an existing object and replace the old version. Other times we may want to copy an object to a new name to preserve the original. This is similar to choosing between <em>Save</em> and <em>Save As</em> when we save a file.</p>
</blockquote>
</p>
<p></details></p>
</div>
<div id="multiple-items" class="section level2">
<h2><span class="header-section-number">2.2</span> Multiple items</h2>
<p>We can put multiple values inside <code>c()</code> to make a vector of items. It’s like a chain of items, and each additional item is connected by a comma. The <code>c</code> stands for to conCATenate or to combine values into a vector.</p>
<p>Let’s use <code>c()</code> to create a few vectors of names.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a character vector and name it starwars_names</span>
starwars_names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Luke&quot;</span>, <span class="st">&quot;Leia&quot;</span>, <span class="st">&quot;Han Solo&quot;</span>)

<span class="co"># Print starwars_names to the console</span>
starwars_names</code></pre></div>
<pre><code>## [1] &quot;Luke&quot;     &quot;Leia&quot;     &quot;Han Solo&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create a numeric vector and name it starwars_ages</span>
starwars_ages  &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">19</span>,<span class="dv">18</span>,<span class="dv">25</span>)

<span class="co"># Print the ages to the console</span>
starwars_ages</code></pre></div>
<pre><code>## [1] 19 18 25</code></pre>
</div>
<div id="make-a-table" class="section level2">
<h2><span class="header-section-number">2.3</span> Make a table</h2>
<p>A table in R is known as a <strong>data frame</strong>. We can think of it as a group of columns, where each column is made from a vector.</p>
<div class="figure">
<img src="images/vector_to_dataframe.png" style="margin-left: 100px;" width="510" />

</div>
<p><br></p>
<p>Data frames in R have columns of data that are all the same length. Let’s make a data frame with two columns to hold the names and ages of our characters from above.</p>
<p><br></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Create table with columns &quot;names&quot; and &quot;ages&quot; with values from the starwars_names and starwars_ages vectors</span>
starwars_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">names =</span> starwars_names,
                          <span class="dt">ages  =</span> starwars_ages)

<span class="co"># Print the starwars_df data frame to the console</span>
starwars_df</code></pre></div>
<pre><code>##      names ages
## 1     Luke   19
## 2     Leia   18
## 3 Han Solo   25</code></pre>
<p><br></p>
<div id="get-values-from-a-column_name" class="section level3 unnumbered">
<h3>Get values from a <code>$column_name</code></h3>
<p>Use the <code>$</code> sign after the name of your table to see the values in one of your columns.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># View the &quot;ages&quot; column in starwars_df</span>
starwars_df<span class="op">$</span>ages</code></pre></div>
<pre><code>## [1] 19 18 25</code></pre>
<div class="quiz">
<h3 id="pop-quiz-hotshot" class="unnumbered">Pop Quiz, hotshot!</h3>
<p><strong>Which of these names are valid for a new object?</strong> <em>(Hint: You can test them.)</em></p>
<p><input type="radio"> <em>my starwars fandom</em> <br> <input type="radio"> <em>my_wookies55</em> <br> <input type="radio"> <em>5wookies</em> <br> <input type="radio"> <em>my-wookie</em> <br> <input type="radio"> <em>Wookies!!!</em> <br></p>
<p><br></p>
<details> <summary class = "btn_code"><em>Show solution</em></summary>
<p>
<p><i class="fa fa-check" aria-hidden="true" style="color: green;"></i> <code>my_wookies55</code></p>
<p><em>Yes!! The FORCE is strong with you!</em></p>
</p>
<p></details></p>
</div>
</div>
</div>
<div id="leave-a-comment" class="section level2">
<h2><span class="header-section-number">2.4</span> Leave a <code>#comment</code></h2>
<p>The text in the scripts with the <code>#</code> in front are called comments. A line that starts with a <code>#</code> is ignored and won’t be run as R code. You can use the <code>#</code> to add notes in your script to make it easier for others and yourself to understand what is happening and why. You can also use comments to add warnings or instructions for others using your code.</p>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">2.5</span> Functions</h2>
<p>Now that you know what objects are and how to create them, let’s learn how to use them in functions. Functions take one or more inputs called “arguments”. They perform steps based on the arguments and usually return an output object.</p>
<p>You can think of a function like a plan for making Clone Troopers.</p>
<div class="figure">
<img src="images/clonetrooper_fathead.png" style="float: left; margin-right: 36px; margin-top: -2px;" width="220" />

</div>
<p><br></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">create_clone</span>(<span class="dt">host  =</span> <span class="st">&quot;Jango Fett&quot;</span>, 
             <span class="dt">modifications =</span> <span class="kw">c</span>(<span class="st">&quot;accelerated growth&quot;</span>, 
                               <span class="st">&quot;absolute loyalty&quot;</span>, 
                               <span class="st">&quot;enhanced aggression&quot;</span>), 
             <span class="dt">opponents     =</span> <span class="st">&quot;Confederacy of Independent Systems&quot;</span>)</code></pre></div>
<p><br><br></p>
<p>The function above creates instructions to create Clone Troopers and provides several arguments: <code>genetic host</code>, <code>genetic modifications</code>, and assumed <code>opponents</code>). When we have more than one argument, we use a comma to separate them. With some luck, the function will sucessfully return a new object (an army of Clone Troopers).</p>
<p><br><br></p>
<div id="the-sum-function" class="section level3 unnumbered">
<h3>The <code>sum()</code> function</h3>
<p>We already covered two functions: <code>c()</code> and <code>data.frame()</code>. Now let’s use the <code>sum()</code> function to find the sum age of our Starwars characters.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Call the sum function with starwars_ages as input</span>
ages_sum &lt;-<span class="st"> </span><span class="kw">sum</span>(starwars_ages) <span class="co"># Assigns the output to starwars_ages_sum</span>

<span class="co"># Print the starwars_ages_sum value to the console</span>
ages_sum</code></pre></div>
<pre><code>## [1] 62</code></pre>
<p><br></p>
<p>The <code>sum()</code> function takes the <em>starwars_ages</em> vector as input, performs some calculations, and returns a single numeric object. Note that we assigned the output object to the name <code>ages_sum</code>. If we don’t assign the output object it will be printed to the console and won’t be saved. Sometimes this is okay, especially when we’re exploring the data.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Alternative without assigning output</span>
<span class="kw">sum</span>(starwars_ages) </code></pre></div>
<pre><code>## [1] 62</code></pre>
<p><br></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">starwars_ages</code></pre></div>
<pre><code>## [1] 19 18 25</code></pre>
<blockquote>
<p><strong>NOTE:</strong> Our original <code>starwars_ages</code> vector hasn’t changed. Each function has its own “environment”, and its calculations happen inside a bubble. In general, what happens inside a function won’t change objects outside of the function.</p>
</blockquote>
</div>
</div>
<div id="function-summary" class="section level2 unnumbered">
<h2>Function summary</h2>
<p>There are functions in R that are more complex, but most boil down to the same general setup:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">new_output &lt;-<span class="st"> </span><span class="cf">function</span>(argument_input1, argument_input2)</code></pre></div>
<p>We call the function with input arguments inside parentheses and get an output object in return. You can make your own functions in R and name them almost anything you like, even <code>my_amazing_starwars_function()</code>. Naming rules for functions and arguments are the same as those for objects (no spaces or special characters and they can’t begin with a number).</p>
<div class="quiz">
<h3 id="pop-quiz" class="unnumbered">Pop Quiz!</h3>
<p><strong>Which of these is a valid function call?</strong></p>
<p><input type="radio"> <em>train(“concentrate” “Force”)</em> <br> <input type="radio"> <em>shoot, “lightsabor”, “Death Ray”</em> <br> <input type="radio"> <em>replicate(100000000, “clones”)</em> <br> <input type="radio"> <em>fight(until Empire conquered)</em> <br> <input type="radio"> <em>scrap(100 Datapads, “Hyperdrives”)</em> <br></p>
<br> <details> <summary class = "btn_code"><em>Show solution</em></summary>
<p>
<p><i class="fa fa-check" aria-hidden="true" style="color: green;"></i> <code>replicate(100000000, &quot;clones&quot;)</code></p>
<p><em>Correct! You’re ready to audit a Junk dealer.</em></p>
</p>
</details>
</div>
</div>
</div>
<div id="reading-and-loading-data" class="section level1">
<h1><span class="header-section-number">3</span> | Reading and loading data</h1>
<hr>
<p>The first step of a good scavenger audit is loading some data and figuring out where all the scrap is going. Here’s an example data table showing the scrap from Jakku. It is was salvaged from a crash site.</p>
<table>
<thead>
<tr class="header">
<th align="left">source</th>
<th align="left">destination</th>
<th align="left">item</th>
<th align="right">quantity</th>
<th align="right">price</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Coruscant</td>
<td align="left">Jakuu</td>
<td align="left">hyperdrives</td>
<td align="right">3</td>
<td align="right">300</td>
</tr>
<tr class="even">
<td align="left">Tatooine</td>
<td align="left">Jakuu</td>
<td align="left">datapads</td>
<td align="right">100</td>
<td align="right">25</td>
</tr>
<tr class="odd">
<td align="left">Naboo</td>
<td align="left">Jakuu</td>
<td align="left">hyperdrives</td>
<td align="right">45</td>
<td align="right">45</td>
</tr>
<tr class="even">
<td align="left">Endor</td>
<td align="left">Jakuu</td>
<td align="left">hyperdrives</td>
<td align="right">1</td>
<td align="right">10000000</td>
</tr>
</tbody>
</table>
<p><br></p>
<blockquote>
<p><strong>We received a larger scrapper data set from a droid of Crolute Unkar Plutt. But how do we get this data into R?</strong></p>
</blockquote>
<div id="csv-to-the-rescue" class="section level2">
<h2><span class="header-section-number">3.1</span> CSV to the rescue</h2>
<p>The main data format in R is the <strong>CSV</strong> <em>(comma-separated values)</em>. A <strong>CSV</strong> is a simple text file that can be opened in R and most other stats software, including Excel.</p>
<p>Here’s how the example cat table looks when it is saved as a <strong>.CSV</strong> file.</p>
<p><strong>starwars_scrap.csv</strong></p>
<pre><code>Coruscant Tatooine Naboo Endor
Jakuu Jakuu Jakuu Jakuu
hyperdrives datapads hyperdrives hyperdrives
3 100 45 1
300 25 45 10000000</code></pre>
<p>It looks squished together right now, but that’s okay. When it’s opened in R the text will become a familiar looking table with columns and rows.</p>
</div>
<div id="is-your-data-in-a-big-.xlsx-file" class="section level2">
<h2><span class="header-section-number">3.2</span> Is your data in a big <code>.xlsx</code> file?</h2>
<details><summary class = "btn_code_blue"> How to save Excel to a CSV file</summary>
<p>
<p>First, open the Excel cat table by copying this path into a new window or to the Windows search bar - <code>X:\Agency_Files\Outcomes\Risk_Eval_Air_Mod\_Air_Risk_Evaluation\R\R_Camp\Intro to R\RCamp - Star Wars\Student Folder\starwars_scrap.xlsx</code>.</p>
<p>And then follow these instructions to save the Excel file as a <em>CSV</em> file.</p>
<ul>
<li>Go to <em>File</em><br />
</li>
<li><em>Save As</em><br />
</li>
<li><em>Browse</em> to your project folder<br />
</li>
<li>Create new “data” folder<br />
</li>
<li>Save as type: _CSV (Comma Delimited) (*.csv)_
<ul>
<li>Any of the <em>CSV</em> options will work<br />
</li>
</ul></li>
<li>Click <strong>Yes</strong><br />
</li>
<li>Close Excel (Click “Don’t Save”)</li>
</ul>
<p><br></p>
<p>Now let’s check that it worked. Return to RStudio and open your new data folder by finding it in your <em>Files</em> tab in the lower right window. Click on your <em>CSV</em> file and choose <strong>View File</strong>.</p>
<p><br></p>
<hr>
</p>
<p></details></p>
</div>
</div>
<div id="add-a-new-package" class="section level1">
<h1><span class="header-section-number">4</span> | Add a new package 📦</h1>
<hr>
<blockquote>
<p><strong>What is a package?</strong></p>
</blockquote>
<p>A <em>package</em> is a small add-on for R like a phone App for your phone. They add capabilities like statistical functions, mapping powers, and special charts. In order to use a new package we first need to install it.</p>
<div id="readr" class="section level2">
<h2><span class="header-section-number">4.1</span> <em>readr</em></h2>
<div class="figure">
<img src="https://d21ii91i3y6o6h.cloudfront.net/gallery_images/from_proof/9289/medium/1447092171/readr-hexbin-sticker-from-rstudio.png" align="left" style="margin-right:18px;" width="145" />

</div>
<p><br></p>
<p>The <em>readr</em> package helps import data into R in different formats. It does extra work for you like cleaning the data of extra white space and formatting tricky dates. Your packages are stored in your R <em>library</em>.</p>
<p><br> <br></p>
<p><strong>Add a package to your library</strong></p>
<ol style="list-style-type: decimal">
<li>Open <em>RStudio</em></li>
<li>Type <code>install.packages(&quot;readr&quot;)</code> in the lower left console</li>
<li>Press Enter</li>
<li><em>Wait two seconds</em></li>
<li>Open the <code>Packages</code> tab in the lower right window of RStudio to see the packages in your <em>library</em>
<ul>
<li>Use the search bar to find the <code>readr</code> package</li>
</ul></li>
</ol>
<p><br></p>
<p>The packages tab only shows the available packges that are installed. To use one of them, you will need to load it. Loading a package is like opening an App on your phone. To load a package we need to use the <code>library()</code> function. After loading the <em>readr</em> package you will able to read the Star Wars scrap data with the shiny new function <code>read_csv()</code>.</p>
<p>If you want to work with the data in R, you will need to give it a name by using the assignment operator <code>&lt;-</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">&quot;readr&quot;</span>)

my_scrap_file &lt;-<span class="st"> &quot;data/starwars_scrap.csv&quot;</span>

<span class="kw">read_csv</span>(my_scrap_file)</code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   source = col_character(),
##   destination = col_character(),
##   item = col_character(),
##   quantity = col_integer(),
##   price = col_double(),
##   units = col_character(),
##   year = col_character(),
##   management = col_character()
## )</code></pre>
<pre><code>## # A tibble: 4 x 8
##   source    destination item        quantity  price units year  management
##   &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;          &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     
## 1 Coruscant Jakuu       hyperdrives        3 3.00e2 tons  New ~ &lt;NA&gt;      
## 2 Tatooine  Jakuu       datapads         100 2.50e1 items New ~ &lt;NA&gt;      
## 3 Naboo     Jakuu       hyperdrives       45 4.50e1 tons  Empi~ &lt;NA&gt;      
## 4 Endor     Jakuu       hyperdrives        1 1.00e7 poun~ Old ~ &lt;NA&gt;</code></pre>
<p><br></p>
</div>
<div id="name-your-table" class="section level2">
<h2><span class="header-section-number">4.2</span> Name your table</h2>
<p>If we want to work with the data in R, we’ll need to give it a name by using the assignment operator <code>&lt;-</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_scrap_file &lt;-<span class="st"> &quot;data/starwars_scrap.csv&quot;</span>

starwars_scrap &lt;-<span class="st"> </span><span class="kw">read_csv</span>(my_scrap_file)</code></pre></div>
<pre><code>## Parsed with column specification:
## cols(
##   source = col_character(),
##   destination = col_character(),
##   item = col_character(),
##   quantity = col_integer(),
##   price = col_double(),
##   units = col_character(),
##   year = col_character(),
##   management = col_character()
## )</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Type the name of the table to view it in the console</span>
starwars_scrap</code></pre></div>
<pre><code>## # A tibble: 4 x 8
##   source    destination item        quantity  price units year  management
##   &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;          &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;     
## 1 Coruscant Jakuu       hyperdrives        3 3.00e2 tons  New ~ &lt;NA&gt;      
## 2 Tatooine  Jakuu       datapads         100 2.50e1 items New ~ &lt;NA&gt;      
## 3 Naboo     Jakuu       hyperdrives       45 4.50e1 tons  Empi~ &lt;NA&gt;      
## 4 Endor     Jakuu       hyperdrives        1 1.00e7 poun~ Old ~ &lt;NA&gt;</code></pre>
<div id="pro-tip" class="section level3 unnumbered">
<h3><i class="fa fa-user-secret" aria-hidden="true" style="color:#040707;"></i> Pro-tip!</h3>
<p>You may have noticed the row of three letter abbreviations under the column names. These describe the data type of each column.</p>
<blockquote>
<p><code>chr</code> stands for <strong>character</strong> vector, or a string of characters. Examples: <em>“apple”</em>, <em>“apple5”</em>, <em>“5 red apples”</em><br />
<code>int</code> stands for <strong>integer</strong>. Examples: <em>5</em>, <em>34</em>, <em>1071</em><br />
<code>dbl</code> stands for <strong>double</strong>. Examples: <em>5.0000</em>, <em>3.4E-6</em>, <em>10.7106</em></p>
</blockquote>
<p>We’ll see more data types, such as <code>dates</code> and <code>logical</code> (TRUE/FALSE) later on.</p>
<div class="quiz">
<h3 id="pop-quiz-1" class="unnumbered">Pop Quiz!</h3>
<p><strong>What data type is the <code>destination</code> column?</strong></p>
<p><input type="radio"> <em>letters</em> <br> <input type="radio"> <em>character</em> <br> <input type="radio"> <em>words</em> <br> <input type="radio"> <em>numbers</em> <br> <input type="radio"> <em>integer</em> <br></p>
<p><br></p>
<details> <summary class = "btn_code"><em>Show solution</em></summary>
<p>
<p><i class="fa fa-check" aria-hidden="true" style="color: green;"></i> <code>character</code></p>
<pre><code>## Colors cannot be applied in this environment :( Try using a terminal or RStudio.</code></pre>
<pre><code>## 
##  -------------- 
## Meow! Not too shabby for a tabby. 
##  --------------
##       \
##         \
##           \
##             |\___/|
##             )     (
##            =\     /=
##              )===(
##             /     \
##             |     |
##            /       \
##            \       /
##       jgs   \__  _/
##               ( (
##                ) )
##               (_(
## </code></pre>
</p>
<p></summary></p>
</div>
</div>
<div id="function-arguments" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Function arguments</h3>
<details> <summary class = "btn_code_blue"><em>What arguments does this function have?</em></summary>
<p>
<p>For <code>read_csv()</code>, the character object argument <em>my_scrap_file</em> is what the function uses to know where to find the data file. Functions often have more than one argument. Type <code>?read_csv</code> into your console to see help in the lower-right pane that describes all of the function’s arguments and what they do. Many of the options have default arguments (such as <code>col_names = TRUE</code>), which the function will use if you don’t provide an alternative argument. A short scroll down in the help window will show you more details about the arguments and the values they take.</p>
<blockquote>
<p>`function(arg1 = input1, arg2 = input2, arg3…)</p>
</blockquote>
<p>The <em>file</em> argument tells us that the function expects a path to a file. It can be many types of files, even a <em>ZIP</em> file. Below that, you’ll see the <em>col_names</em> argument. This argument takes either <code>TRUE</code>, <code>FALSE</code>, or a character vector of column names. The default is <code>TRUE</code>, which means the first row in the CSV is used as the column names for your data.</p>
</p>
<p></details></p>
<p><br></p>
<p><strong>Don’t like the column names?</strong></p>
<p>We can give new column names to the <em>col_names</em> argument like this:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_scrap_file &lt;-<span class="st"> &quot;data/starwars_scrap.csv&quot;</span>

<span class="co">#Assign desired column names as a character vector named column_names</span>
my_header_names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;origin&quot;</span>, <span class="st">&quot;final&quot;</span>, <span class="st">&quot;thing&quot;</span>, <span class="st">&quot;count&quot;</span>, <span class="st">&quot;cost&quot;</span>)

<span class="kw">read_csv</span>(my_scrap_file, <span class="dt">col_names =</span> my_header_names)</code></pre></div>
<pre><code>## Warning in rbind(names(probs), probs_f): number of columns of result is not
## a multiple of vector length (arg 1)</code></pre>
<pre><code>## Warning: 5 parsing failures.
## row # A tibble: 5 x 5 col     row col   expected  actual    file                      expected   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;     &lt;chr&gt;                     actual 1     1 &lt;NA&gt;  5 columns 8 columns &#39;data/starwars_scrap.csv&#39; file 2     2 &lt;NA&gt;  5 columns 8 columns &#39;data/starwars_scrap.csv&#39; row 3     3 &lt;NA&gt;  5 columns 8 columns &#39;data/starwars_scrap.csv&#39; col 4     4 &lt;NA&gt;  5 columns 8 columns &#39;data/starwars_scrap.csv&#39; expected 5     5 &lt;NA&gt;  5 columns 8 columns &#39;data/starwars_scrap.csv&#39;</code></pre>
<pre><code>## # A tibble: 5 x 5
##   origin    final       thing       count    cost    
##   &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;       &lt;chr&gt;    &lt;chr&gt;   
## 1 source    destination item        quantity price   
## 2 Coruscant Jakuu       hyperdrives 3        300     
## 3 Tatooine  Jakuu       datapads    100      25      
## 4 Naboo     Jakuu       hyperdrives 45       45      
## 5 Endor     Jakuu       hyperdrives 1        1.00E+07</code></pre>
</div>
<div id="skip-a-row" class="section level3 unnumbered">
<h3>Skip a row</h3>
<p>We now have the column names we want, but now the original column names in our CSV file show up as a row in our data. We want <code>read_csv</code> to ignore the first row. Let’s look through the help window and try to find an argument that can help us. The <code>skip</code> argument looks like it could be helpful. Sure enough, the description is exactly what we’re looking for here. The default is <code>skip = 0</code> (read every line), but we can skip the first line by providing <code>skip = 1</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">column_names &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Name&quot;</span>, <span class="st">&quot;Age&quot;</span>, <span class="st">&quot;Color&quot;</span>)

<span class="kw">read_csv</span>(my_cat_file, column_names, <span class="dt">skip =</span> <span class="dv">1</span>)</code></pre></div>
<p><br></p>
<details> <summary class = "btn_code_blue"><em>Does the order of arguments matter?</em></summary>
<p>
<p>You may be wondering why we included <code>skip =</code> for the skip argument, but only provided the objects for the other two arguments. When you pass inputs to a function, R assumes you’ve entered them in the same order that is shown on the ?help page. Let’s say you had a function called <code>feed_pets()</code> with 3 arguments:</p>
<blockquote>
<p><code>feed_pets(dogs = &quot;dogfood&quot;, cats = &quot;catnip&quot;, fish = &quot;pellets&quot;)</code>.</p>
</blockquote>
<p>A shorthand way to write this would be <code>feed_pets(&quot;dogfood&quot;, &quot;catnip&quot;, &quot;pellets&quot;)</code>. If we write <code>feed_pets(&quot;dogfood&quot;, &quot;pellets&quot;, &quot;catnip&quot;)</code>, the function will send <em>fish pellets</em> to your cat and <em>catnip</em> to your fish. No good. If you really wanted to write “pellets” second, you would need to tell R which food item belongs to each animal, such as <code>feed_pets(&quot;dogfood&quot;, fish = &quot;pellets&quot;, cats = &quot;catnip&quot;)</code>.</p>
<p>The same thing goes for <code>read_csv()</code>. In <code>read_csv(my_cat_file, column_names, skip = 1)</code>, R assumes the file is <code>my_cat_file</code> and that the col_names should be set to <code>column_names</code>. The <code>skip =</code> argument has to be included explicitly because <em>skip</em> is the <strong>10th</strong> argument in <code>read_csv()</code>. If we don’t include <code>skip =</code>, R assumes the value we entered is meant for the function’s <strong>3rd</strong> argument.</p>
</div>
<div id="pro-tip-1" class="section level3 unnumbered">
<h3><i class="fa fa-user-secret" aria-hidden="true" style="color:#040707;"></i> Pro-tip!</h3>
<p>A shortcut to see all of a function’s arguments is to enter the name of the function in the console and the first parenthesis, such as <code>read_csv(</code>, and then press <code>TAB</code> on the keyboard. This brings up a drop-down menu of all the available arguments for that function.</p>
</p>
</details>
</div>
<p><strong>Key terms</strong></p>
<p><code>package</code> An add-on for R that contains new functions someone created to help you. It’s like an App for R.<br />
<code>library</code> The name of the folder that stores all your packages, and the function used to load a package.</p>
<div class="quiz">
<h3 id="pop-quiz-2" class="unnumbered">Pop Quiz!</h3>
<p><br></p>
<p><strong>What package does <code>read_csv()</code> come from?</strong></p>
<p><input type="radio"> <em>dinosaur</em> <br> <input type="radio"> <em>get_data</em> <br> <input type="radio"> <em>readr</em> <br> <input type="radio"> <em>dplyr</em> <br> <input type="radio"> <em>tidyr</em> <br></p>
<br> <details> <summary class = "btn_code"><em>Show solution</em></summary>
<p>
<p><i class="fa fa-check" aria-hidden="true" style="color: green;"></i> <code>readr</code></p>
<p><em>Great job! You’re fur real.</em></p>
</p>
<p></details></p>
</div>
<div class="quiz" style="margin-top: -15px;">
<p><br></p>
<p><strong>How would you load the package <code>junkfinder</code>?</strong></p>
<p><input type="radio"> <em>junkfinder()</em> <br> <input type="radio"> <em>library(“junkfinder”)</em> <br> <input type="radio"> <em>load(“junkfinder”)</em> <br> <input type="radio"> <em>package(“junkfinder”)</em> <br></p>
<br> <details> <summary class = "btn_code"><em>Show solution</em></summary>
<p>
<p><i class="fa fa-check" aria-hidden="true" style="color: green;"></i> <code>library(&quot;catfinder&quot;)</code></p>
<p><em>Excellent! Keep the streak going.</em></p>
</p>
</details>
</div>
</div>
</div>
<div id="chart-first" class="section level2">
<h2><span class="header-section-number">4.3</span> Chart first</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(ggplot2)

<span class="kw">ggplot</span>(junk_data, <span class="kw">aes</span>(<span class="dt">x =</span> Item, <span class="dt">y =</span> Price))</code></pre></div>
<pre><code>## Error in ggplot(junk_data, aes(x = Item, y = Price)): object &#39;junk_data&#39; not found</code></pre>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
